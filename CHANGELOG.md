# Changelog

æ‰€æœ‰é‡è¦çš„é¡¹ç›®æ›´æ”¹éƒ½å°†è®°å½•åœ¨æ­¤æ–‡ä»¶ä¸­ã€‚

æ ¼å¼åŸºäº [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)ï¼Œ
å¹¶ä¸”æ­¤é¡¹ç›®éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/lang/zh-CN/)ã€‚

## [æœªå‘å¸ƒ]

### æ–°å¢åŠŸèƒ½ (2024-11-05)

#### ğŸ“š Swagger API æ–‡æ¡£
- âœ… ä¸ºæ‰€æœ‰ API ç«¯ç‚¹æ·»åŠ  Swagger æ³¨é‡Š
- âœ… è‡ªåŠ¨ç”Ÿæˆäº¤äº’å¼ API æ–‡æ¡£ç•Œé¢
- âœ… è®¿é—®åœ°å€ï¼š`http://localhost:8080/swagger/index.html`
- âœ… æ·»åŠ  `make swagger` å‘½ä»¤ç”¨äºç”Ÿæˆæ–‡æ¡£
- ç›¸å…³æ–‡ä»¶ï¼š`docs/docs.go`, `docs/swagger.json`, `internal/api/handler/user_handler.go`

#### ğŸ§ª Repository å•å…ƒæµ‹è¯•
- âœ… ä¸º Repository å±‚æ·»åŠ å®Œæ•´çš„å•å…ƒæµ‹è¯•
- âœ… ä½¿ç”¨ SQLite å†…å­˜æ•°æ®åº“è¿›è¡Œæµ‹è¯•
- âœ… é‡‡ç”¨ testify/suite æµ‹è¯•æ¡†æ¶
- âœ… æµ‹è¯•è¦†ç›–æ‰€æœ‰ CRUD æ“ä½œå’Œè¾¹ç•Œæƒ…å†µï¼ˆ8 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- ç›¸å…³æ–‡ä»¶ï¼š`internal/repository/user_repository_test.go`

#### ğŸ§¹ é€šç”¨éªŒè¯ä¸­é—´ä»¶
- âœ… å®ç°é€šç”¨çš„ JSON éªŒè¯ä¸­é—´ä»¶
- âœ… ç®€åŒ– Handler ä¸­çš„å‚æ•°éªŒè¯ä»£ç 
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œå“åº”æ ¼å¼
- âœ… æä¾› `ValidateJSON()` å’Œ `GetValidatedRequest()` è¾…åŠ©å‡½æ•°
- ç›¸å…³æ–‡ä»¶ï¼š`internal/api/middleware/validate.go`

#### ğŸ“ˆ Pprof æ€§èƒ½åˆ†æ
- âœ… é›†æˆ Go pprof æ€§èƒ½åˆ†æå·¥å…·
- âœ… æ”¯æŒ CPUã€å†…å­˜ã€Goroutine ç­‰æ€§èƒ½åˆ†æ
- âœ… é€šè¿‡é…ç½®æ–‡ä»¶æ§åˆ¶å¼€å¯/å…³é—­
- âœ… æä¾› 11 ä¸ªæ ‡å‡†åˆ†æç«¯ç‚¹ï¼ˆ/debug/pprof/*ï¼‰
- ç›¸å…³æ–‡ä»¶ï¼š`internal/api/middleware/pprof.go`

#### ğŸ” Sentry é”™è¯¯è¿½è¸ª
- âœ… é›†æˆ Sentry é”™è¯¯ç›‘æ§æœåŠ¡
- âœ… è‡ªåŠ¨æ•è· Panic å’Œé”™è¯¯
- âœ… è®°å½•è¯·æ±‚ä¸Šä¸‹æ–‡ä¿¡æ¯
- âœ… æ”¯æŒæ€§èƒ½è¿½è¸ªå’Œé‡‡æ ·ç‡é…ç½®
- ç›¸å…³æ–‡ä»¶ï¼š`internal/api/middleware/sentry.go`, `cmd/server/main.go`

#### ğŸ”— OpenTelemetry åˆ†å¸ƒå¼è¿½è¸ª
- âœ… é›†æˆ OpenTelemetry åˆ†å¸ƒå¼è¿½è¸ª
- âœ… æ”¯æŒ Jaeger ä½œä¸ºåç«¯
- âœ… è‡ªåŠ¨è¿½è¸ª HTTP è¯·æ±‚
- âœ… å¯è‡ªå®šä¹‰ Span å’Œå±æ€§
- ç›¸å…³æ–‡ä»¶ï¼š`internal/api/middleware/tracing.go`, `cmd/server/main.go`

### å˜æ›´

- **internal/api/router/router.go**: æ·»åŠ  Swagger UI è·¯ç”±ï¼Œæ¡ä»¶æ€§å¯ç”¨é«˜çº§ä¸­é—´ä»¶
- **cmd/server/main.go**: æ·»åŠ  Sentry å’Œ OpenTelemetry åˆå§‹åŒ–é€»è¾‘
- **config/config.go**: æ–°å¢ `PprofConfig`ã€`SentryConfig`ã€`TracingConfig` ç»“æ„
- **go.mod**: æ·»åŠ  Swaggerã€Sentryã€OpenTelemetryã€testify ç­‰ä¾èµ–
- **Makefile**: æ–°å¢ `swagger` å‘½ä»¤ï¼Œæ›´æ–° `install-tools`

### æ–‡æ¡£

- âœ… æ–°å¢ `docs/FEATURES.md` - é«˜çº§åŠŸèƒ½ä½¿ç”¨æŒ‡å—ï¼ˆ6 å¤§åŠŸèƒ½è¯¦ç»†è¯´æ˜ï¼‰
- âœ… æ›´æ–° `README.md` - æ·»åŠ é«˜çº§åŠŸèƒ½åˆ—è¡¨å’Œ Swagger è®¿é—®è¯´æ˜
- âœ… æ›´æ–° `CHANGELOG.md` - è®°å½•æ‰€æœ‰æ–°å¢åŠŸèƒ½

### æ–°å¢ä¾èµ–

```go
github.com/getsentry/sentry-go v0.27.0
github.com/swaggo/swag v1.16.3
github.com/swaggo/gin-swagger v1.6.0
go.opentelemetry.io/otel v1.24.0
go.opentelemetry.io/otel/exporters/jaeger v1.17.0
go.opentelemetry.io/contrib/instrumentation/github.com/gin-gonic/gin/otelgin v0.49.0
gorm.io/driver/sqlite v1.5.4
github.com/stretchr/testify v1.8.4
```

### è®¡åˆ’æ·»åŠ 
- [ ] Redis ç¼“å­˜é›†æˆç¤ºä¾‹
- [ ] æ›´å¤šç¤ºä¾‹æ¨¡å—ï¼ˆæ–‡ç« ã€è¯„è®ºç­‰ï¼‰
- [ ] GraphQL æ”¯æŒ
- [ ] WebSocket æ”¯æŒ
- [ ] å›½é™…åŒ– (i18n) æ”¯æŒ
- [ ] Swagger æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
- [ ] é›†æˆæµ‹è¯•æ¡†æ¶
- [ ] CI/CD é…ç½®ç¤ºä¾‹

## [1.0.0] - 2024-01-01

### æ–°å¢

#### é¡¹ç›®ç»“æ„
- âœ… åˆ›å»º DDD é£æ ¼çš„é¡¹ç›®ç»“æ„
- âœ… å‘½ä»¤è¡Œå…¥å£ (cmd/server)
- âœ… å†…éƒ¨åº”ç”¨ä»£ç  (internal)
- âœ… å¯å¤ç”¨å…¬å…±åº“ (pkg)
- âœ… é…ç½®ç®¡ç† (config)
- âœ… æ–‡æ¡£ç›®å½• (docs)

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç»Ÿä¸€çš„å“åº”æ ¼å¼å¤„ç†
- âœ… ç»“æ„åŒ–æ—¥å¿— (Zap)
- âœ… JWT è®¤è¯å’Œæˆæƒ
- âœ… è‡ªå®šä¹‰éªŒè¯å™¨
- âœ… æ•°æ®åº“é›†æˆ (GORM + PostgreSQL)

#### ä¸­é—´ä»¶
- âœ… CORS ä¸­é—´ä»¶
- âœ… å®‰å…¨å“åº”å¤´ä¸­é—´ä»¶
- âœ… è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
- âœ… Panic æ¢å¤ä¸­é—´ä»¶
- âœ… JWT è®¤è¯ä¸­é—´ä»¶
- âœ… é™æµä¸­é—´ä»¶
- âœ… Gzip å‹ç¼©ä¸­é—´ä»¶

#### ç¤ºä¾‹æ¨¡å—
- âœ… ç”¨æˆ·æ¨¡å—å®Œæ•´å®ç°
  - ç”¨æˆ·æ³¨å†Œ
  - ç”¨æˆ·ç™»å½•
  - è·å–ç”¨æˆ·ä¿¡æ¯
  - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
  - åˆ é™¤ç”¨æˆ·
  - ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰

#### å¼€å‘å·¥å…·
- âœ… Makefile å‘½ä»¤é›†
- âœ… Docker æ”¯æŒ
- âœ… Docker Compose é…ç½®
- âœ… Air çƒ­é‡è½½é…ç½®
- âœ… ç¯å¢ƒå˜é‡ç¤ºä¾‹

#### æµ‹è¯•
- âœ… Handler å±‚å•å…ƒæµ‹è¯•ç¤ºä¾‹
- âœ… Mock æœåŠ¡ç¤ºä¾‹

#### æ–‡æ¡£
- âœ… README å®Œæ•´è¯´æ˜
- âœ… API æ¥å£æ–‡æ¡£
- âœ… å¿«é€Ÿå¼€å§‹æŒ‡å—
- âœ… æ¶æ„è®¾è®¡æ–‡æ¡£
- âœ… æœ€ä½³å®è·µåšå®¢

#### é…ç½®
- âœ… YAML é…ç½®æ–‡ä»¶
- âœ… ç¯å¢ƒå˜é‡æ”¯æŒ
- âœ… Viper é…ç½®ç®¡ç†

#### æ•°æ®åº“
- âœ… è¿æ¥æ± é…ç½®
- âœ… è‡ªåŠ¨è¿ç§»
- âœ… åˆå§‹åŒ– SQL è„šæœ¬

#### å®‰å…¨
- âœ… å¯†ç åŠ å¯† (bcrypt)
- âœ… JWT Token ç”Ÿæˆå’ŒéªŒè¯
- âœ… CORS é…ç½®
- âœ… å®‰å…¨å“åº”å¤´
- âœ… å‚æ•°éªŒè¯

#### æ€§èƒ½ä¼˜åŒ–
- âœ… HTTP å‹ç¼© (Gzip)
- âœ… æ•°æ®åº“è¿æ¥æ± 
- âœ… è¯·æ±‚é™æµ

### æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|
| Go | 1.21+ |
| Gin | 1.9.1 |
| GORM | 1.25.5 |
| Zap | 1.26.0 |
| Viper | 1.18.2 |
| golang-jwt | 5.2.0 |
| validator | 10.16.0 |
| PostgreSQL | 15+ |

### æ–‡ä»¶ç»Ÿè®¡

- Go æ–‡ä»¶: 19 ä¸ª
- ä¸­é—´ä»¶: 5 ä¸ª
- Handler: 1 ä¸ª
- Service: 1 ä¸ª
- Repository: 1 ä¸ª
- å·¥å…·åŒ…: 5 ä¸ª
- æ–‡æ¡£: 4 ä¸ª

### ä»£ç è¡Œæ•°

```bash
# ç»Ÿè®¡ Go ä»£ç è¡Œæ•°
find . -name "*.go" -not -path "./vendor/*" | xargs wc -l
```

### ç‰¹æ€§äº®ç‚¹

ğŸ¯ **åˆ†å±‚æ¸…æ™°** - é‡‡ç”¨ DDD åˆ†å±‚æ¶æ„ï¼ŒèŒè´£æ˜ç¡®  
ğŸ” **å®‰å…¨å¯é ** - JWT è®¤è¯ã€å¯†ç åŠ å¯†ã€å®‰å…¨ä¸­é—´ä»¶  
ğŸ“ **æ–‡æ¡£å®Œå–„** - åŒ…å« API æ–‡æ¡£ã€å¿«é€Ÿå¼€å§‹ã€æ¶æ„è®¾è®¡  
ğŸ§ª **å¯æµ‹è¯•æ€§** - ä¾èµ–æ³¨å…¥ã€æ¥å£æŠ½è±¡ã€æµ‹è¯•ç¤ºä¾‹  
ğŸ³ **å®¹å™¨åŒ–** - å®Œæ•´çš„ Docker æ”¯æŒ  
ğŸ”¥ **å¼€å‘å‹å¥½** - çƒ­é‡è½½ã€Makefileã€è¯¦ç»†æ³¨é‡Š  
âš¡ **æ€§èƒ½ä¼˜åŒ–** - å‹ç¼©ã€è¿æ¥æ± ã€é™æµ  
ğŸ›¡ï¸ **ç”Ÿäº§å°±ç»ª** - ä¼˜é›…å…³é—­ã€é”™è¯¯å¤„ç†ã€æ—¥å¿—è®°å½•  

## ç»´æŠ¤è€…

- [@bjmayor](https://github.com/bjmayor)

## è´¡çŒ®è€…

æ„Ÿè°¢æ‰€æœ‰ä¸ºæ­¤é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ç‰ˆæœ¬è¯´æ˜

- **ä¸»ç‰ˆæœ¬å· (Major)**: ä¸å…¼å®¹çš„ API å˜æ›´
- **æ¬¡ç‰ˆæœ¬å· (Minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ–°å¢
- **ä¿®è®¢å· (Patch)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

## è·å–æ›´æ–°

```bash
# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag

# åˆ‡æ¢åˆ°ç‰¹å®šç‰ˆæœ¬
git checkout v1.0.0

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main
```

## åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š
1. æäº¤ [Issue](https://github.com/bjmayor/gin-template/issues)
2. å‘èµ· [Pull Request](https://github.com/bjmayor/gin-template/pulls)
3. å‚ä¸ [Discussions](https://github.com/bjmayor/gin-template/discussions)

---

**è¯´æ˜**: 
- æ—¥æœŸæ ¼å¼: YYYY-MM-DD
- ç±»å‹: æ–°å¢ (Added) | å˜æ›´ (Changed) | åºŸå¼ƒ (Deprecated) | ç§»é™¤ (Removed) | ä¿®å¤ (Fixed) | å®‰å…¨ (Security)
